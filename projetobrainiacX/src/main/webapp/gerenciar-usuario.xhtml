<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html >

<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="index.xhtml">

	
	

	<div align="center">
		<h3>Bem vindo ao sistema para controles de usuários</h3>
		<p:graphicImage library="imagens" name="cadastro.png" width="300" />
	</div>

	<h:form>
		<p:messages autoUpdate="true"/>
		<p:fieldset legend="Gerenciar Usuário">
			<p:toolbar>
				<p:toolbarGroup align="left">
					<p:commandButton value="Novo" action="#{usuarioBean.novo}"
						update="@form " />
					<p:commandButton value="Salvar" action="#{usuarioBean.salvar}"
						update="@form " disabled="#{usuarioBean.busca == true}" />
					<p:commandButton value="Buscar" action="#{usuarioBean.buscar}"
						update="@form " />
				</p:toolbarGroup>        
			</p:toolbar>
		</p:fieldset>
		
		<p:panelGrid columns="2" rendered="#{usuarioBean.busca == false}">
			<h:outputLabel/>
			<p:inputText value="#{usuarioBean.entidade.login}"/>
			<h:outputLabel/>
			<p:inputText value="#{usuarioBean.entidade.senha}"/>
		</p:panelGrid>
		
		<p:dataTable value="#{usuarioBean.entidades}" var="u" rendered="#{usuarioBean.busca == true}">
				<p:column>
					<p:commandButton value="Editar"
							action="#{usuarioBean.editar(u)}" update="form " />
				</p:column>
				<p:column>
					<p:commandButton value="Deletar"
							action="#{usuarioBean.deletar(u)}" update="form " />
				</p:column>
				
				<p:column headerText="Login" sortBy="#{car.modelo}">#{car.modelo}</p:column>
				<p:column headerText="Senha" sortBy="#{carro.fabricante}">#{car.fabricante}</p:column>
			</p:dataTable>
	</h:form>
	
	
</ui:decorate>

